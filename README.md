<div class="Box-sc-g0xbh4-0 bJMeLZ js-snippet-clipboard-copy-unpositioned" data-hpc="true"><article class="markdown-body entry-content container-lg" itemprop="text"><div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">格里斯特</font></font></h1><a id="user-content-grist" class="anchor" aria-label="永久链接： 谷物" href="#grist"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grist 是一个现代关系电子表格。它结合了电子表格的灵活性和数据库的稳健性。</font></font></p>
<ul dir="auto">
<li><code>grist-core</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（此存储库）拥有运行功能强大的电子表格托管服务器所需的一切。</font></font></li>
<li><a href="https://github.com/gristlabs/grist-electron"><code>grist-electron</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是一款 Linux/macOS/Windows 桌面应用程序，用于查看和编辑本地存储的电子表格。</font></font></li>
<li><a href="https://github.com/gristlabs/grist-static"><code>grist-static</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是 Grist 的完全浏览器内置版本，用于在没有后端支持的情况下在网站上显示电子表格。</font></font></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><code>grist-core</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储库是 Grist 的核心，包括</font></font><a href="https://getgrist.com" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grist Labs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供的托管服务，Grist Labs 是一家总部位于纽约的公司🇺🇸，也是 Grist 的主要开发人员。法国政府机构</font></font><a href="https://donnees.incubateur.anct.gouv.fr/toolbox/grist" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ANCT Données et Territoires</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 🇫🇷 也为代码库做出了重大贡献。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font><font style="vertical-align: inherit;">和存储</font></font><code>grist-core</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">库</font><font style="vertical-align: inherit;">都是开源的（Apache 许可证，版本 2.0）。</font></font><code>grist-electron</code><font style="vertical-align: inherit;"></font><code>grist-static</code><font style="vertical-align: inherit;"></font></p>
<blockquote>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">问题？反馈？想与 Grist 分享您正在构建的内容吗？加入我们的</font></font><a href="https://discord.gg/MYKpYQ3fbP" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">官方 Discord 服务器</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或访问我们的</font></font><a href="https://community.getgrist.com/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">社区论坛</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
</blockquote>
<details open="" class="details-reset border rounded-2">
  <summary class="px-3 py-2">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-device-camera-video">
    <path d="M16 3.75v8.5a.75.75 0 0 1-1.136.643L11 10.575v.675A1.75 1.75 0 0 1 9.25 13h-7.5A1.75 1.75 0 0 1 0 11.25v-6.5C0 3.784.784 3 1.75 3h7.5c.966 0 1.75.784 1.75 1.75v.675l3.864-2.318A.75.75 0 0 1 16 3.75Zm-6.5 1a.25.25 0 0 0-.25-.25h-7.5a.25.25 0 0 0-.25.25v6.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-6.5ZM11 8.825l3.5 2.1v-5.85l-3.5 2.1Z"></path>
</svg>
    <span aria-label="视频描述 grist.mp4" class="m-1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">谷物.mp4</font></font></span>
    <span class="dropdown-caret"></span>
  </summary>

  <video src="https://private-user-images.githubusercontent.com/118367/151245587-892e50a6-41f5-4b74-9786-fe3566f6b1fb.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTU1Mjc4NjEsIm5iZiI6MTcxNTUyNzU2MSwicGF0aCI6Ii8xMTgzNjcvMTUxMjQ1NTg3LTg5MmU1MGE2LTQxZjUtNGI3NC05Nzg2LWZlMzU2NmY2YjFmYi5tcDQ_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjQwNTEyJTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI0MDUxMlQxNTI2MDFaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT02MjA3Mjc2YjNlZjA2MzBmYmViNTJiYjRlYzIxNDc1MzJlOTNhY2NmYjg0MzcxMDNhYTJkZDEwZWM0MjU4Mzk5JlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCZhY3Rvcl9pZD0wJmtleV9pZD0wJnJlcG9faWQ9MCJ9.TXorDUBBue_9PF_2xbSA23_zzjsD39gJ6aFAyKqc5yU" data-canonical-src="https://private-user-images.githubusercontent.com/118367/151245587-892e50a6-41f5-4b74-9786-fe3566f6b1fb.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTU1Mjc4NjEsIm5iZiI6MTcxNTUyNzU2MSwicGF0aCI6Ii8xMTgzNjcvMTUxMjQ1NTg3LTg5MmU1MGE2LTQxZjUtNGI3NC05Nzg2LWZlMzU2NmY2YjFmYi5tcDQ_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjQwNTEyJTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI0MDUxMlQxNTI2MDFaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT02MjA3Mjc2YjNlZjA2MzBmYmViNTJiYjRlYzIxNDc1MzJlOTNhY2NmYjg0MzcxMDNhYTJkZDEwZWM0MjU4Mzk5JlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCZhY3Rvcl9pZD0wJmtleV9pZD0wJnJlcG9faWQ9MCJ9.TXorDUBBue_9PF_2xbSA23_zzjsD39gJ6aFAyKqc5yU" controls="controls" muted="muted" class="d-block rounded-bottom-2 border-top width-fit" style="max-height:640px; min-height: 200px">

  </video>
</details>

<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特征</font></font></h2><a id="user-content-features" class="anchor" aria-label="永久链接：特点" href="#features"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grist 是一个混合数据库/电子表格，这意味着：</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列的工作方式就像在数据库中一样：它们被命名，并且保存一种数据。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列可以通过公式、电子表格样式填充，并在引用的单元格更改时自动更新。</font></font></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这种差异可能会让直接使用 Excel 或 Google Sheets 的人感到困惑。给它一个机会！还有一篇</font></font><a href="https://www.getgrist.com/blog/grist-for-spreadsheet-users/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">适用于电子表格用户的 Grist</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文章可以帮助您了解方向。如果您来自 Airtable，您会发现该模型很熟悉（还有我们的</font></font><a href="https://www.getgrist.com/blog/grist-v-airtable/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grist 与 Airtable</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文章进行直接比较）。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下是 Grist 的一些具体功能亮点：</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python 公式。
</font></font><ul dir="auto">
<li><font style="vertical-align: inherit;"></font><a href="https://support.getgrist.com/formulas/#python" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">支持</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完整的Python语法</font><font style="vertical-align: inherit;">，包括标准库。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还可以使用许多</font></font><a href="https://support.getgrist.com/functions/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Excel 函数</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">专门针对公式生成而调整的</font></font><a href="https://www.getgrist.com/ai-formula-assistant/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AI 助手</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font><font style="vertical-align: inherit;">通过</font><a href="https://github.com/abetlen/llama-cpp-python"><font style="vertical-align: inherit;">llama-cpp-python使用 OpenAI gpt-3.5-turbo 或</font></a></font><a href="https://ai.meta.com/llama/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Llama</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font><a href="https://github.com/abetlen/llama-cpp-python"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></li>
</ul>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一种便携式、独立的格式。
</font></font><ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基于 SQLite（部署最广泛的数据库引擎）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任何可以读取 SQLite 的工具都可以从 Grist 文件中读取数字和文本数据。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用</font><font style="vertical-align: inherit;">您可以自信地完整恢复的</font></font><a href="https://support.getgrist.com/exports/#backing-up-an-entire-document" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">备份。</font></font></a><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非常适合在不同主机之间移动。</font></font></li>
</ul>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以显示在静态网站上，</font></font><a href="https://github.com/gristlabs/grist-static"><code>grist-static</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无需特殊服务器。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于本地查看和编辑的独立桌面应用程序：</font></font><a href="https://github.com/gristlabs/grist-electron"><code>grist-electron</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方便的编辑和格式化功能。
</font></font><ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择和</font></font><a href="https://support.getgrist.com/col-types/#choice-list-columns" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择列表</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，用于向记录添加彩色标签。</font></font></li>
<li><a href="https://support.getgrist.com/col-refs/#creating-a-new-reference-list-column" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参考文献</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和参考列表，用于交叉引用其他表中的记录。</font></font></li>
<li><a href="https://support.getgrist.com/col-types/#attachment-columns" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">附件</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，包括记录中的媒体或文档文件。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日期和时间、切换以及货币等特殊数字都有专门的编辑器和格式选项。</font></font></li>
<li><a href="https://support.getgrist.com/conditional-formatting/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条件格式</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，让您可以使用公式控制单元格的样式，以引起对重要信息的注意。</font></font></li>
</ul>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">拖放仪表板。
</font></font><ul dir="auto">
<li><a href="https://support.getgrist.com/widget-chart/" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于可视化的</font><a href="https://support.getgrist.com/widget-chart/" rel="nofollow"><font style="vertical-align: inherit;">图表</font></a><font style="vertical-align: inherit;">、</font></font><a href="https://support.getgrist.com/widget-card/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卡片视图</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a href="https://support.getgrist.com/widget-calendar/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日历小部件。</font></font></a><font style="vertical-align: inherit;"></font></li>
<li><a href="https://support.getgrist.com/summary-tables/" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于跨组求和和计数的</font><a href="https://support.getgrist.com/summary-tables/" rel="nofollow"><font style="vertical-align: inherit;">汇总表。</font></a></font></li>
<li><a href="https://support.getgrist.com/linking-widgets/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">小部件链接</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">简化了数据过滤和编辑。 Grist 拥有独特的可视化方法，您可以布局和链接不同的小部件以显示在一起，而无需将混合材料塞进表格中。</font></font></li>
<li><a href="https://support.getgrist.com/search-sort-filter/#filter-buttons" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于快速切片和切丁的</font><a href="https://support.getgrist.com/search-sort-filter/#filter-buttons" rel="nofollow"><font style="vertical-align: inherit;">过滤条。</font></a></font></li>
</ul>
</li>
<li><a href="https://support.getgrist.com/imports/#updating-existing-records" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">增量进口</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font><ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从您的银行导入过去三个月活动的 CSV...</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...并在一个月后导入新活动，无需大惊小怪或重复。</font></font></li>
</ul>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整合。
</font></font><ul dir="auto">
<li><font style="vertical-align: inherit;"></font><a href="https://support.getgrist.com/api/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">REST API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font><font style="vertical-align: inherit;">Zapier</font></font><a href="https://support.getgrist.com/integrators/#integrations-via-zapier" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作/触发器</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以及类似</font></font><a href="https://support.getgrist.com/integrators/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">集成商</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的支持。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">导入/导出到 Google 云端硬盘、Excel 格式、CSV。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将数据与外部托管的</font></font><a href="https://support.getgrist.com/widget-custom/#_top" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自定义小部件</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可配置的传出 Webhook。</font></font></li>
</ul>
</li>
<li><a href="https://templates.getgrist.com/" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从投资研究到组织寻宝，</font><a href="https://templates.getgrist.com/" rel="nofollow"><font style="vertical-align: inherit;">有许多模板可以帮助您入门。</font></a></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">访问控制选项。
</font></font><ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（您需要设置 SSO 登录才能使用这些选项；</font></font><a href="https://github.com/gristlabs/grist-omnibus"><code>grist-omnibus</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果配置此选项令人畏惧，则有一个预先打包的解决方案）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">共享</font></font><a href="https://support.getgrist.com/sharing/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">个人文档</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、工作区或</font></font><a href="https://support.getgrist.com/team-sharing/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">团队网站</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制对</font></font><a href="https://support.getgrist.com/access-rules/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">各个行、列和表的</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">访问。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">根据单元格值和用户属性控制访问。</font></font></li>
</ul>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可自我维护。
</font></font><ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于 Intranet 操作和特定合规性要求很有用。</font></font></li>
</ul>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">针对不受信任文档的沙箱选项。
</font></font><ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 Linux 上或使用 Docker，您可以</font><font style="vertical-align: inherit;">在单个文档级别启用</font></font><a href="https://github.com/google/gvisor"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gVisor沙箱。</font></font></a><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 macOS 上，您可以使用本机沙箱。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在任何操作系统（包括 Windows）上，您都可以使用基于 wasm 的沙箱。</font></font></li>
</ul>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被翻译成多种语言。</font></font></li>
<li><code>F1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">键会带来一些快速帮助。这在过去是不言而喻的，但总的来说，Grist 具有良好的键盘支持。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们在</font></font><a href="https://twitter.com/getgrist" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">𝕏 或 Twitter 或其他任何地方</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发布进展情况，并发布</font></font><a href="https://support.getgrist.com/newsletters/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每月时事通讯</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您对 Grist 的发展方向感到好奇，请参阅</font></font><a href="https://github.com/gristlabs/grist-core/projects/1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的路线图、在</font></font></a><font style="vertical-align: inherit;"></font><a href="https://community.getgrist.com" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的论坛</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中提出问题</font><font style="vertical-align: inherit;">或浏览</font></font><a href="https://support.getgrist.com" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们丰富的文档</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用谷物</font></font></h2><a id="user-content-using-grist" class="anchor" aria-label="永久链接：使用 Grist" href="#using-grist"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您只想快速演示 Grist：</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以在 Grist Labs 运行的托管服务（位于</font></font><a href="https://docs.getgrist.com" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">docs.getgrist.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ）上试用 Grist （无需注册）。</font></font></li>
<li><font style="vertical-align: inherit;"></font><a href="https://gristlabs.github.io/grist-static/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者您可以在gristlabs.github.io/grist-static</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上查看完全在浏览器内构建的 Grist </font><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"></font><a href="https://github.com/gristlabs/grist-electron"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者您可以从github.com/gristlabs/grist-electron</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载 Grist 作为桌面应用程序</font><font style="vertical-align: inherit;">。</font></font></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要</font></font><code>grist-core</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在计算机上运行</font></font><a href="https://www.docker.com/get-started" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Docker</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，请执行以下操作：</font></font></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>docker pull gristlabs/grist
docker run -p 8484:8484 -it gristlabs/grist</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="docker pull gristlabs/grist
docker run -p 8484:8484 -it gristlabs/grist" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font style="vertical-align: inherit;"></font><code>http://localhost:8484</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后在浏览器中</font><font style="vertical-align: inherit;">访问。</font><font style="vertical-align: inherit;">您将能够创建、编辑、导入和导出文档。要在 docker 运行之间保留您的工作，请将目录共享为</font></font><code>/persist</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>docker run -p 8484:8484 -v <span class="pl-smi">$PWD</span>/persist:/persist -it gristlabs/grist</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="docker run -p 8484:8484 -v $PWD/persist:/persist -it gristlabs/grist" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font style="vertical-align: inherit;"></font><a href="https://templates.getgrist.com" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在templates.getgrist.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上获取</font><font style="vertical-align: inherit;">用于薪资、库存管理、发票、D&amp;D 遭遇跟踪等的模板，或者使用您在
</font></font><a href="https://docs.getgrist.com" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">docs.getgrist.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上创建的任何文档。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您需要更改 Grist 运行的端口，请设置一个</font></font><code>PORT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量，而不仅仅是更改端口映射：</font></font></p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code>docker run --env PORT=9999 -p 9999:9999 -v $PWD/persist:/persist -it gristlabs/grist
</code></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="docker run --env PORT=9999 -p 9999:9999 -v $PWD/persist:/persist -it gristlabs/grist" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要启用 gVisor 沙箱，请设置</font></font><code>--env GRIST_SANDBOX_FLAVOR=gvisor</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。这应该适用于默认的 docker 设置，但可能不适用于所有环境。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"></font><a href="https://support.getgrist.com/self-managed/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以在我们的自我管理 Grist</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手册</font><font style="vertical-align: inherit;">中找到有关配置 Grist、设置身份验证以及在公共服务器上运行它的更多信息
。</font></font></p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">激活引导页以诊断问题</font></font></h2><a id="user-content-activating-the-boot-page-for-diagnosing-problems" class="anchor" aria-label="永久链接：激活启动页面以诊断问题" href="#activating-the-boot-page-for-diagnosing-problems"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以打开特殊的“启动页面”来检查安装的状态。只需访问</font></font><code>/boot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您的 Grist 服务器即可获取说明。由于即使未设置身份验证，启动页面也可用，因此您可以通过设置 为其提供特殊的访问密钥</font></font><code>GRIST_BOOT_KEY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code>docker run -p 8484:8484 -e GRIST_BOOT_KEY=secret -it gristlabs/grist
</code></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="docker run -p 8484:8484 -e GRIST_BOOT_KEY=secret -it gristlabs/grist" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后，启动页面应该可以在 处找到</font></font><code>/boot/&lt;GRIST_BOOT_KEY&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。我们开始收集针对常见问题的探针。如果您遇到未涵盖的问题，如果您可以在</font></font><a href="https://github.com/gristlabs/grist-core/blob/main/app/server/lib/BootProbes.ts"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BootProbes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中为其添加探测器，那就太好了
</font><font style="vertical-align: inherit;">。或者提出问题以便其他人可以添加它，我们才刚刚开始。</font></font></p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从源头构建</font></font></h2><a id="user-content-building-from-source" class="anchor" aria-label="永久链接：从源代码构建" href="#building-from-source"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要从源代码构建 Grist，请按照下列步骤操作：</font></font></p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code>yarn install
yarn run build:prod
yarn run install:python
yarn start
# Grist will be available at http://localhost:8484/
</code></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="yarn install
yarn run build:prod
yarn run install:python
yarn start
# Grist will be available at http://localhost:8484/" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档中的 Grist 公式将使用直接在您的计算机上执行的 Python 来运行。您可以使用环境变量配置沙箱</font></font><code>GRIST_SANDBOX_FLAVOR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在 macOS 上，</font></font><code>export GRIST_SANDBOX_FLAVOR=macSandboxExec</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
使用本机</font></font><code>sandbox-exec</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令进行沙箱。</font></font></li>
<li><font style="vertical-align: inherit;"></font><a href="https://github.com/google/gvisor"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在安装了gVisor 的 runsc</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的 Linux 上</font><font style="vertical-align: inherit;">
，</font></font><code>export GRIST_SANDBOX_FLAVOR=gvisor</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是一个选项。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在包括 Windows 在内的任何操作系统上</font></font><code>export GRIST_SANDBOX_FLAVOR=pyodide</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都可用。</font></font></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这些沙盒方法是为我们在 Grist Labs 自己使用而编写的，可能需要进行调整才能在您自己的环境中工作 - 非常欢迎这里提出请求！</font></font></p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">登录</font></font></h2><a id="user-content-logins" class="anchor" aria-label="永久链接：登录" href="#logins"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与 git 一样，Grist 具有跟踪文档修订历史记录的功能。因此，为了进行完整的操作，Grist 希望知道修改文档的用户是谁。在此之前，它会以有限的匿名模式运行。为了让您继续前进，对 docker 映像进行了配置，以便当您单击“登录”按钮时，Grist 会将您的工作归因于</font></font><code>you@example.com</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.通过设置更改此设置</font></font><code>GRIST_DEFAULT_EMAIL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code>docker run --env GRIST_DEFAULT_EMAIL=my@email -p 8484:8484 -v $PWD/persist:/persist -it gristlabs/grist
</code></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="docker run --env GRIST_DEFAULT_EMAIL=my@email -p 8484:8484 -v $PWD/persist:/persist -it gristlabs/grist" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font style="vertical-align: inherit;"><a href="https://support.getgrist.com/glossary/#user-menu" rel="nofollow"><font style="vertical-align: inherit;">您可以在“用户菜单”</font></a></font><code>Profile Settings</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中</font><font style="vertical-align: inherit;">更改您的姓名</font><font style="vertical-align: inherit;">。</font></font><a href="https://support.getgrist.com/glossary/#user-menu" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于多用户操作，或者如果您希望通过公共互联网访问 Grist，您需要将其连接到您自己的单点登录服务。有很多方法可以做到这一点，包括</font></font><a href="https://support.getgrist.com/self-managed/#how-do-i-set-up-authentication" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SAML 和转发身份验证</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。 Grist 已经通过</font><a href="https://dexidp.io/" rel="nofollow"><font style="vertical-align: inherit;">Dex与</font></a></font><a href="https://goauthentik.io/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Authentik</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://auth0.com/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Auth0</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和 Google/Microsoft 登录进行了测试</font><font style="vertical-align: inherit;">。</font></font><a href="https://dexidp.io/" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">翻译</font></font></h2><a id="user-content-translations" class="anchor" aria-label="永久链接：翻译" href="#translations"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们使用</font></font><a href="https://hosted.weblate.org/engage/grist/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Weblate</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来管理翻译。感谢所有参与的人。特别感谢 ANCT 开发人员，他们为使应用程序的大部分内容可本地化付出了辛勤的努力。谢谢！</font></font></p>
<a href="https://hosted.weblate.org/engage/grist/" rel="nofollow">
<img src="https://camo.githubusercontent.com/31f8f89b1afa79440e7c8995e96658c931f067d4ee78a7d5d38fe6b209d780c1/68747470733a2f2f686f737465642e7765626c6174652e6f72672f776964676574732f67726973742f2d2f6f70656e2d67726170682e706e67" alt="翻译状态" width="480" data-canonical-src="https://hosted.weblate.org/widgets/grist/-/open-graph.png" style="max-width: 100%;">
</a>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为什么选择免费和开源软件</font></font></h2><a id="user-content-why-free-and-open-source-software" class="anchor" aria-label="永久链接：为什么选择免费和开源软件" href="#why-free-and-open-source-software"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该存储库</font></font><code>grist-core</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由 Grist Labs 维护。我们在</font></font><a href="https://www.getgrist.com" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">getgrist.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上提供的旗舰产品</font><font style="vertical-align: inherit;">是根据您在此处看到的代码构建的，并结合了旨在扩展到许多用户、处理计费等的特定于业务的软件。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grist Labs 是一家开放核心公司。我们提供 Grist 托管服务，包括免费和付费计划。我们还使用专有许可证开发和销售与 Grist 相关的功能，以满足拥有大型自我管理安装的企业的需求。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将数据可移植性和自治视为关键价值，也是</font></font><code>grist-core</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其中的重要组成部分。我们致力于维护和改进</font></font><code>grist-core</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码库，并考虑专有产品如何影响数据可移植性和自治性。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过开放源代码并提供</font></font><a href="https://opensource.org/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OSI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">批准的免费许可证，Grist 使用户受益：</font></font></p>
<ul dir="auto">
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开发者社区。</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于通用电子表格产品来说，检查源代码、修复错误和开发新功能的自由是一件大事，因为其中有很长的尾部功能对某个地方的某人至关重要。</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">增加信任。</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为任何人都可以检查源代码，所以“默默无闻的安全”不是一个选择。代码中的漏洞可以被其他人发现并在造成损害之前报告。</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">独立。</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无论 Grist Labs 业务的命运如何，您都可以使用 Grist，因为它是开源的并且可以自行托管。使用我们的托管解决方案很方便，但您不会被锁定。</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">价格灵活性。</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您资金不足但有时间投资，自托管是一个不错的选择。而DIY用户可能有技术头脑和钻研改进的动力，这可以让Grist的所有用户受益。</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可扩展性。</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于开发人员来说，开放源代码可以更轻松地构建扩展（例如</font></font><a href="https://support.getgrist.com/widget-custom/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自定义小部件</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。您可以更轻松地将 Grist 添加到您的管道中。如果缺少某个功能，您只需获取源代码并在其基础上进行构建即可。</font></font></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关 Grist Labs 的历史和原则的更多信息，请参阅我们的</font></font><a href="https://www.getgrist.com/about/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“关于我们”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">页面。</font></font></p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">赞助商</font></font></h2><a id="user-content-sponsors" class="anchor" aria-label="永久链接：赞助商" href="#sponsors"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p align="center" dir="auto">
  <a href="https://www.dotphoton.com/" rel="nofollow">
    <img width="11%" src="https://user-images.githubusercontent.com/11277225/228914729-ae581352-b37a-4ca8-b220-b1463dd1ade0.png" style="max-width: 100%;">
  </a>
</p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">评论</font></font></h2><a id="user-content-reviews" class="anchor" aria-label="永久链接：评论" href="#reviews"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><a href="https://www.producthunt.com/posts/grist-2" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ProductHunt 上的 Grist</font></font></a></li>
<li><a href="https://appsumo.com/products/grist/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AppSumo 上的 Grist</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（终身优惠已售完）</font></font></li>
<li><a href="https://www.capterra.com/p/232821/Grist/#reviews" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">卡普特拉</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://www.g2.com/products/grist/reviews" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://www.trustradius.com/products/grist/reviews" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TrustRadius</font></font></a></li>
</ul>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">环境变量</font></font></h2><a id="user-content-environment-variables" class="anchor" aria-label="永久链接：环境变量" href="#environment-variables"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grist 可以通过多种方式进行配置。以下是它敏感的主要环境变量：</font></font></p>
<table>
<thead>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多变的</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目的</font></font></th>
</tr>
</thead>
<tbody>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ALLOWED_WEBHOOK_DOMAINS</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以逗号分隔的允许在 webhook 中使用的域列表（例如 webhook.site、zapier.com）。您可以将其设置为允许所有域，但如果这样做，</font><font style="vertical-align: inherit;">如果您不完全信任用户，</font></font><code>*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们建议您使用仔细锁定的代理（请参阅 参考资料）。</font></font><code>GRIST_HTTPS_PROXY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">否则，您的内部网络上的服务可能容易受到操纵。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APP_DOC_URL</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">docworker url，在启动单个docworker时设置（其他服务器将通过redis找到docworkerurl）</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APP_DOC_INTERNAL_URL</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类似</font></font><code>APP_DOC_URL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但由主服务器使用内部域名解析来访问服务器（就像在 docker 环境中一样）。默认为</font></font><code>APP_DOC_URL</code></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APP_HOME_URL</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">home api 的 url 前缀（家庭和文档服务器需要这个）</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APP_STATIC_URL</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">静态资源的url前缀</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APP_STATIC_INCLUDE_CUSTOM_CSS</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置为“true”以在静态页面中包含 custom.css（来自 APP_STATIC_URL）</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APP_UNTRUSTED_URL</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供/期望插件内容的 URL。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_ADAPT_DOMAIN</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置为“true”以支持多个基域（小心，主机标头应该值得信赖）</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_APP_ROOT</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">包含 Grist 沙箱和资产的目录（特别是沙箱和静态子目录）。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_BACKUP_DELAY_SECS</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档更改后等待这么长时间再进行备份</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_BOOT_KEY</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果设置，则在 /boot/GRIST_BOOT_KEY 处提供诊断</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_DATA_DIR</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">存储文档的目录。默认为</font></font><code>docs/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相对于 Grist 应用程序目录。在 Grist 的默认 Docker 镜像中，其默认值为 /persist/docs，以便将其用作已安装的卷。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_DEFAULT_EMAIL</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果设置，如果没有提供其他凭据，则以此用户身份登录</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_DEFAULT_产品</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果设置，它将控制新站点的启用功能和限制。请参阅 Product.ts 中的产品名称。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_DEFAULT_LOCALE</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当 Grist 无法支持浏览器区域设置时用作后备的区域设置。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_DOMAIN</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在托管的 Grist 中，Grist 由该域的子域提供服务。默认为“getgrist.com”。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_EXPERIMENTAL_PLUGINS</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用实验性插件</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_ENABLE_REQUEST_FUNCTION</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用请求功能。该函数以与 类似的方式执行 HTTP 请求</font></font><code>requests.request</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。此功能存在重大安全风险，因为当 Grist 公开可用时，它可以让用户调用内部端点。此功能也会导致性能问题。默认情况下取消设置。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_HIDE_UI_ELEMENTS</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要禁用的以逗号分隔的 UI 功能列表。允许的零件名称：</font></font><code>helpCenter,billing,templates,createSite,multiSite,multiAccounts,sendToDrive,tutorials,supportGrist</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.如果 GRIST_UI_FEATURES 中也存在某个部分，它仍将被禁用。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_HOST</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">侦听端口时使用的主机名。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_HTTPS_PROXY</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果设置，则使用此代理进行 Webhook 有效负载传输。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_ID_PREFIX</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于 o- 形式的子域</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，期望或生成 o-${GRIST_ID_PREFIX}</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_IGNORE_SESSION</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果设置，Grist 将不会使用会话进行身份验证。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_INCLUDE_CUSTOM_SCRIPT_URL</font></font></td>
<td><font style="vertical-align: inherit;"></font><code>&lt;script&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果设置，将在所有应用程序页面的标记</font><font style="vertical-align: inherit;">中加载引用的 URL 。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_INST_DIR</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grist 服务器的 Grist 实例配置文件的路径。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_LIST_PUBLIC_SITES</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果设置为 true，则将为匿名用户列出与公众共享的网站。默认为 false。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_MANAGED_WORKERS</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果设置的话，Grist 可以假设如果针对文档工作人员的 url 返回 404，则该工作人员已消失</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_MAX_UPLOAD_ATTACHMENT_MB</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">附件允许的最大大小（0 或空表示无限制）。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_MAX_UPLOAD_IMPORT_MB</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">允许导入的最大大小（.grist 文件除外）（0 或空表示无限制）。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_OFFER_ALL_LANGUAGES</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果设置，则向用户提供所有翻译的语言（默认情况下，仅向用户提供具有特殊“足够好”键集的语言）。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_ORG_IN_PATH</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果为 true，则在路径而不是域中对 org 进行编码</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_PAGE_TITLE_SUFFIX</font></font></td>
<td><font style="vertical-align: inherit;"></font><code>&lt;title&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">附加到HTML 文档</font><font style="vertical-align: inherit;">末尾的字符串。</font><font style="vertical-align: inherit;">默认为</font></font><code>" - Grist"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.设置</font></font><code>_blank</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为根本没有后缀。</font></font></td>
</tr>
<tr>
<td><del><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_PROXY_AUTH_HEADER</font></font></del></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已弃用，并解释为 GRIST_FORWARD_AUTH_HEADER 的同义词。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_ROUTER_URL</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">允许服务器向负载均衡器注册（取消）注册的 api 的可选 url</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_SERVE_SAME_ORIGIN</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置为“true”以访问与顶级页面相同的协议主机端口上的家庭服务器和文档工作人员，与自定义域相同（小心，主机标头应该值得信赖）</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_服务器</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要设置的服务器类型。逗号分隔的值可能包含“home”、“docs”、static”和/或“app”。默认为“home、docs、static”。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_SESSION_COOKIE</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果设置，则覆盖 Grist cookie 的名称</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_SESSION_DOMAIN</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果设置，则将 cookie 与给定域关联 - 否则默认为 GRIST_DOMAIN</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_SESSION_SECRET</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于对会话进行编码的密钥</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_SKIP_BUNDLED_WIDGETS</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果设置，Grist 将忽略通过 NPM 包包含的任何捆绑小部件。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_ANON_PLAYGROUND</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当设置为“false”时，拒绝匿名用户访问主页</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_FORCE_LOGIN</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">很像 GRIST_ANON_PLAYGROUND 但根本不支持匿名访问（公开共享文档等功能需要身份验证）</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_SINGLE_ORG</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置为组织“域”以将客户端固定到该组织</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_TEMPLATE_ORG</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置为组织“域”以显示该组织的公共文档</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_HELP_CENTER</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置帮助中心链接参考</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FREE_COACHING_CALL_URL</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置指向人工帮助的链接（例如：电子邮件地址或会议安排工具）</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_CONTACT_SUPPORT_URL</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在错误页面上设置联系支持人员的链接（例如：电子邮件地址或在线表格）</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_SUPPORT_ANON</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果设置为“true”，则显示匿名访问的 UI（默认情况下不显示）</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_SUPPORT_EMAIL</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果设置，则为用户提供指定的电子邮件支持权限。主要的额外功能是能够以列出的方式与所有用户共享站点、工作区和文档。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_TELEMETRY_LEVEL</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">遥测级别。可设置为：（</font></font><code>off</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认）、</font></font><code>limited</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、 或</font></font><code>full</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_THROTTLE_CPU</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果设置，则启用 CPU 限制</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_TRUST_PLUGINS</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果设置，插件预计将从与 Grist 应用程序其余部分相同的主机提供服务，而不是从不同的主机提供服务。通常，插件由不同的主机提供服务，因此 Grist 应用程序使用的 cookie 不会自动提供给它们。仅当您了解安全含义时才启用此功能。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_USER_ROOT</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">寻找插件的额外路径 - Grist 将扫描</font></font><code>$GRIST_USER_ROOT/plugins</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_UI_FEATURES</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要启用的 UI 功能的逗号分隔列表。允许的零件名称：</font></font><code>helpCenter,billing,templates,createSite,multiSite,multiAccounts,sendToDrive,tutorials,supportGrist</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.如果 GRIST_HIDE_UI_ELEMENTS 中也存在某个部分，则不会启用它。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_UNTRUSTED_PORT</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果设置，插件将从给定端口提供服务。这是设置 APP_UNTRUSTED_URL 的替代方法。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_WIDGET_LIST_URL</font></font></td>
<td><font style="vertical-align: inherit;"></font><code>https://github.com/gristlabs/grist-widget/releases/download/latest/manifest.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认情况下使用</font><font style="vertical-align: inherit;">指向小部件清单的 url</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">COOKIE_MAX_AGE</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会话cookie最大期限，默认为90天；可以设置为“none”以使其成为会话cookie</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HOME_PORT</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于侦听 REST API 服务器的端口号；如果设置为“共享”，则将 API 端点添加到常规 grist 端口。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">港口</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grist 服务器监听的端口号</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">REDIS_URL</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于浏览器会话和数据库查询缓存的可选 Redis 服务器</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_SKIP_REDIS_CHECKSUM_MISMATCH</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实验性的。如果设置，仅在 Redis 中的校验和与 S3 后端存储中的校验和不同时发出警告。如果您的后端存储实现了</font></font><a href="https://aws.amazon.com/fr/blogs/aws/amazon-s3-update-strong-read-after-write-consistency/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">写后读一致性，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以打开它</font><font style="vertical-align: inherit;">。默认为 false。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_SNAPSHOT_TIME_CAP</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选修的。定义跟踪桶的上限。用法：{“小时”：25，“日”：32，“isoWeek”：12，“月”：96，“年”：1000}</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_SNAPSHOT_KEEP</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选修的。无条件为文档保留的最近快照的数量，无论它们何时制作</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_PROMCLIENT_PORT</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选修的。如果设置，则在指定端口号上提供 Prometheus 指标。</font></font><g-emoji class="g-emoji" alias="warning"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">⚠️</font></font></g-emoji><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确保使用未公开暴露的端口</font></font><g-emoji class="g-emoji" alias="warning"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">⚠️</font></font></g-emoji><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></td>
</tr>
</tbody>
</table>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AI公式助手相关变量（均为可选）：</font></font></h4><a id="user-content-ai-formula-assistant-related-variables-all-optional" class="anchor" aria-label="永久链接：AI公式助手相关变量（均为可选）：" href="#ai-formula-assistant-related-variables-all-optional"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<table>
<thead>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多变的</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目的</font></font></th>
</tr>
</thead>
<tbody>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ASSISTANT_API_KEY</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选修的。向外部 AI 对话端点发出请求时要传递的 API 密钥。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ASSISTANT_CHAT_COMPLETION_ENDPOINT</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选修的。要调用的聊天完成样式端点。如果使用 OpenAI，则不需要。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">助理模型</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选修的。如果设置，该字符串将在对 AI 对话端点的调用中传递。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ASSISTANT_LONGER_CONTEXT_MODEL</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选修的。如果设置，则由于上下文长度限制而失败的请求将使用此模型集重试。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OPENAI_API_KEY</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选修的。 ASSISTANT_API_KEY 的同义词，假设正在使用 OpenAI 端点。在 OpenAI 上注册一个帐户，然后</font></font><a href="https://platform.openai.com/account/api-keys" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在此处</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">生成密钥</font><font style="vertical-align: inherit;">。</font></font></td>
</tr>
</tbody>
</table>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">截至撰写本文时，已知 AI Assistant 可针对 gpt-3.5-turbo 和 gpt-4 的 OpenAI 聊天完成端点运行。它还可以针对</font></font><a href="https://github.com/abetlen/llama-cpp-python"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">llama-cpp-python</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供的聊天完成端点运行</font><font style="vertical-align: inherit;">。</font></font></p>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">沙箱相关变量：</font></font></h4><a id="user-content-sandbox-related-variables" class="anchor" aria-label="永久链接：沙箱相关变量：" href="#sandbox-related-variables"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<table>
<thead>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多变的</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目的</font></font></th>
</tr>
</thead>
<tbody>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_SANDBOX_FLAVOR</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以是 gvisor、pynbox、unsandboxed、docker 或 macSandboxExec。如果设置，则强制 Grist 使用指定类型的沙箱。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_SANDBOX</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为沙箱运行的程序或图像名称。有关书呆子的详细信息，请参阅 NSandbox.ts。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PYTHON_版本</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以是 2 或 3。如果设置，则假定没有引擎设置的文档使用指定版本的 python。并非所有沙箱都支持所有版本。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PYTHON_VERSION_ON_CREATION</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以是 2 或 3。如果设置，新创建的文档的引擎设置将设置为 python2 或 python3。并非所有沙箱都支持所有版本。</font></font></td>
</tr>
</tbody>
</table>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转发身份验证变量：</font></font></h4><a id="user-content-forward-authentication-variables" class="anchor" aria-label="永久链接：转发身份验证变量：" href="#forward-authentication-variables"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<table>
<thead>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多变的</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目的</font></font></th>
</tr>
</thead>
<tbody>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_FORWARD_AUTH_HEADER</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果设置，则信任指定的标头（例如“x-forwarded-user”）以包含授权用户电子邮件，并启用“转发身份验证”登录。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_FORWARD_AUTH_LOGIN_PATH</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果设置了 GRIST_FORWARD_AUTH_HEADER，Grist 将在此路径监听登录。默认为</font></font><code>/auth/login</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_FORWARD_AUTH_LOGOUT_PATH</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果设置了 GRIST_FORWARD_AUTH_HEADER，当用户注销时，Grist 将转发到此路径。</font></font></td>
</tr>
</tbody>
</table>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前向认证支持两种模式，区别在于</font></font><code>GRIST_IGNORE_SESSION</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<ol dir="auto">
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用会话和登录端点上的转发身份验证。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，将 traefik 反向代理与
</font></font><a href="https://github.com/thomseddon/traefik-forward-auth"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">traefik-forward-auth</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中间件一起使用：</font></font></p>
<ul dir="auto">
<li><code>GRIST_IGNORE_SESSION</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：不要设置，或设置为虚假值。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确保您的反向代理将转发身份验证中间件应用于
</font></font><code>GRIST_FORWARD_AUTH_LOGIN_PATH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>GRIST_FORWARD_AUTH_LOGOUT_PATH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您希望在某些情况下允许匿名访问，请确保所有其他路径都不受转发身份验证中间件的影响。 Grist 将根据需要通过重定向到 来触发它
</font></font><code>GRIST_FORWARD_AUTH_LOGIN_PATH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。用户登录后，Grist 将使用会话来识别用户，直到注销。</font></font></li>
</ul>
</li>
<li>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有会话，并且在所有端点上进行转发身份验证。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例如，使用 HTTP 基本身份验证和服务器配置将标头（在 中指定
</font></font><code>GRIST_FORWARD_AUTH_HEADER</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）设置为登录用户。</font></font></p>
</li>
</ol>
<ul dir="auto">
<li><code>GRIST_IGNORE_SESSION</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">： 设置</font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。不会使用 Grist 会话。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确保您的反向代理设置您为可能需要登录信息的所有请求指定的标头。用户必须不能欺骗此标头，因为 Grist 会信任其中的任何内容。</font></font></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用转发身份验证时，您可能还希望设置以下变量：</font></font></p>
<ul dir="auto">
<li><code>GRIST_FORCE_LOGIN=true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">禁用匿名访问。</font></font></li>
</ul>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插件：</font></font></h4><a id="user-content-plugins" class="anchor" aria-label="永久链接： 插件：" href="#plugins"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grist 有一个内部使用的插件系统。您可以用它做的一件有用的事情是在 Grist 的构建中包含自定义小部件。自定义小部件通常只需通过设置即可使用</font></font><code>GRIST_WIDGET_LIST_URL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但这具有作为外部依赖项的缺点，这对于离线使用或存档来说可能很尴尬。插件提供了另一种选择。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将自定义小部件“捆绑”为插件：</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加 的子目录</font></font><code>plugins</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，例如</font></font><code>plugins/my-widgets</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。或者，您可以将</font></font><code>GRIST_USER_ROOT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">环境变量设置为您想要的任何路径，然后</font></font><code>plugins/my-widgets</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在其中创建。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在该子目录中添加一个</font></font><code>manifest.yml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如下所示的文件：</font></font></li>
</ul>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code>name: My Widgets
components:
  widgets: widgets.json
</code></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="name: My Widgets
components:
  widgets: widgets.json" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><code>widgets.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件应采用</font></font><a href="https://github.com/gristlabs/grist-widget"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grist-widget</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
存储库生成的格式，并且应放置在与
</font></font><code>manifest.yml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.中的任何材料都</font></font><code>plugins/my-widgets</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
将由 Grist 提供，并且可以在 中使用相对 URL
 </font></font><code>widgets.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有文件就位后，重新启动 Grist。您的小部件现在应该可以在自定义小部件下拉列表中使用，以及</font></font><code>GRIST_WIDGET_LIST_URL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您愿意，您可以添加多个插件子目录，以及多组小部件，并且它们都将可用。</font></font></li>
</ul>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">谷歌云端硬盘集成：</font></font></h4><a id="user-content-google-drive-integrations" class="anchor" aria-label="永久链接：Google Drive 集成：" href="#google-drive-integrations"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<table>
<thead>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多变的</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目的</font></font></th>
</tr>
</thead>
<tbody>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GOOGLE_CLIENT_ID</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置为与 Google API 客户端一起使用的 Google 客户端 ID</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GOOGLE_CLIENT_SECRET</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置为与 Google API 客户端一起使用的 Google 客户端密钥</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GOOGLE_API_KEY</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置为与 Google API 客户端一起使用的 Google API 密钥（访问公共文件）</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GOOGLE_DRIVE_SCOPE</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置为 Google Drive 集成请求的范围（默认为drive.file）</font></font></td>
</tr>
</tbody>
</table>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库变量：</font></font></h4><a id="user-content-database-variables" class="anchor" aria-label="永久链接：数据库变量：" href="#database-variables"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<table>
<thead>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多变的</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目的</font></font></th>
</tr>
</thead>
<tbody>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TYPEORM_DATABASE</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sqlite 的数据库文件名或其他数据库类型的数据库名称</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TYPEORM_HOST</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库主机</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TYPEORM_LOGGING</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置为“true”以查看所有 sql 查询</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TYPEORM_PASSWORD</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用的密码</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TYPEORM_PORT</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库的端口号（如果不是该数据库类型的默认端口号）</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TYPEORM_TYPE</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置为“sqlite”或“postgres”</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TYPEORM_USERNAME</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接的用户名</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TYPEORM_EXTRA</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以 JSON 格式传递给 TypeORM 的任何其他属性</font></font></td>
</tr>
</tbody>
</table>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试：</font></font></h4><a id="user-content-testing" class="anchor" aria-label="永久链接： 测试：" href="#testing"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<table>
<thead>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多变的</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目的</font></font></th>
</tr>
</thead>
<tbody>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_TESTING_SOCKET</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅在测试期间用于通道外通信的套接字。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_TEST_HTTPS_OFFSET</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果设置，则在指定偏移处添加 https 端口。这在测试中很有用。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_TEST_SSL_CERT</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果设置，则包含 SSL 证书的文件名。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_TEST_SSL_KEY</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果设置，则包含 SSL 私钥的文件名。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_测试_登录</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">允许伪造的未经身份验证的测试登录（仅适用于开发环境）。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRIST_TEST_ROUTER</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果设置，则主服务器将在 /test/router 处提供模拟版本的路由器 api</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GREP_测试</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用于选择要运行的特定测试的模式（例如</font></font><code>env GREP_TESTS=ActionLog yarn test</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font></td>
</tr>
</tbody>
</table>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试</font></font></h2><a id="user-content-tests" class="anchor" aria-label="永久链接：测试" href="#tests"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当 PR 打开时，测试将作为 CI 的一部分自动运行。但是，在将更改推送到 GitHub 之前在本地运行测试会很有帮助。首先，您需要确保已安装所有依赖项：</font></font></p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code>yarn install
yarn install:python
</code></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="yarn install
yarn install:python" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">然后，您可以像这样运行主测试套件：</font></font></p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code>yarn test
</code></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="yarn test" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python 测试也可以在本地运行。 （注意：当前需要 Python 3.9 - 3.11。）</font></font></p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code>yarn test:python
</code></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="yarn test:python" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了运行特定的测试，您可以使用变量指定模式</font></font><code>GREP_TESTS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code>env GREP_TESTS=ChoiceList yarn test
env GREP_TESTS=summary yarn test:python
</code></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="env GREP_TESTS=ChoiceList yarn test
env GREP_TESTS=summary yarn test:python" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执照</font></font></h2><a id="user-content-license" class="anchor" aria-label="永久链接：许可证" href="#license"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该存储库</font></font><code>grist-core</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是根据</font></font><a href="http://www.apache.org/licenses/LICENSE-2.0" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apache 许可证 2.0 版</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发布的，该许可证是</font></font><a href="https://opensource.org/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OSI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">批准的自由软件许可证。有关详细信息，请参阅 LICENSE.txt 和 NOTICE.txt。</font></font></p>
</article></div>
